<Window x:Class="Einsatzueberwachung.DogEditWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:fa="http://schemas.fontawesome.io/icons/"
        Title="Hund bearbeiten"
        Height="650" Width="500"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource Surface}"
        ResizeMode="NoResize">

    <Window.Resources>
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="{DynamicResource SurfaceContainer}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource OutlineVariant}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Margin" Value="8"/>
        </Style>

        <Style x:Key="InputStyle" TargetType="TextBox">
            <Setter Property="Background" Value="{DynamicResource SurfaceVariant}"/>
            <Setter Property="Foreground" Value="{DynamicResource OnSurface}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource Outline}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>

        <Style x:Key="CheckBoxStyle" TargetType="CheckBox">
            <Setter Property="Foreground" Value="{DynamicResource OnSurface}"/>
            <Setter Property="Margin" Value="0,4"/>
        </Style>
    </Window.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Style="{StaticResource CardStyle}">
            <StackPanel>
                <TextBlock Text="🐕 Hunde-Daten" FontSize="20" FontWeight="Bold" 
                          Foreground="{DynamicResource OnSurface}"/>
                <TextBlock Text="Erfassen Sie die Hundeinformationen und Spezialisierungen" 
                          FontSize="12" Foreground="{DynamicResource OnSurfaceVariant}" Margin="0,4,0,0"/>
            </StackPanel>
        </Border>

        <!-- Form -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="8">
                <!-- Basis-Informationen -->
                <Border Style="{StaticResource CardStyle}">
                    <StackPanel>
                        <TextBlock Text="Basis-Informationen" FontSize="16" FontWeight="SemiBold" 
                                  Foreground="{DynamicResource OnSurface}" Margin="0,0,0,12"/>

                        <TextBlock Text="Name *" Foreground="{DynamicResource OnSurfaceVariant}"/>
                        <TextBox x:Name="TxtName" Style="{StaticResource InputStyle}" Margin="0,4,0,12"/>

                        <TextBlock Text="Rasse" Foreground="{DynamicResource OnSurfaceVariant}"/>
                        <TextBox x:Name="TxtRasse" Style="{StaticResource InputStyle}" Margin="0,4,0,12"/>

                        <TextBlock Text="Alter (Jahre)" Foreground="{DynamicResource OnSurfaceVariant}"/>
                        <TextBox x:Name="TxtAlter" Style="{StaticResource InputStyle}" Margin="0,4,0,12"
                                PreviewTextInput="TxtAlter_PreviewTextInput"/>

                        <CheckBox x:Name="ChkActive" Content="Aktiv" 
                                 Style="{StaticResource CheckBoxStyle}" IsChecked="True"/>
                    </StackPanel>
                </Border>

                <!-- Spezialisierungen -->
                <Border Style="{StaticResource CardStyle}">
                    <StackPanel>
                        <TextBlock Text="Spezialisierungen" FontSize="16" FontWeight="SemiBold" 
                                  Foreground="{DynamicResource OnSurface}" Margin="0,0,0,12"/>
                        <TextBlock Text="Wählen Sie eine oder mehrere Spezialisierungen aus:" 
                                  FontSize="12" Foreground="{DynamicResource OnSurfaceVariant}" 
                                  Margin="0,0,0,8" TextWrapping="Wrap"/>

                        <CheckBox x:Name="ChkFlaechensuche" Content="🔵 Flächensuchhund" 
                                 Style="{StaticResource CheckBoxStyle}"/>
                        <CheckBox x:Name="ChkTruemmersuche" Content="🟠 Trümmersuchhund" 
                                 Style="{StaticResource CheckBoxStyle}"/>
                        <CheckBox x:Name="ChkMantrailing" Content="🟢 Mantrailer" 
                                 Style="{StaticResource CheckBoxStyle}"/>
                        <CheckBox x:Name="ChkWasserortung" Content="🔷 Wasserortung" 
                                 Style="{StaticResource CheckBoxStyle}"/>
                        <CheckBox x:Name="ChkLawinensuche" Content="🟣 Lawinensuchhund" 
                                 Style="{StaticResource CheckBoxStyle}"/>
                        <CheckBox x:Name="ChkGelaendesuche" Content="🟩 Geländesuchhund" 
                                 Style="{StaticResource CheckBoxStyle}"/>
                        <CheckBox x:Name="ChkLeichensuche" Content="🟤 Leichenspürhund" 
                                 Style="{StaticResource CheckBoxStyle}"/>
                    </StackPanel>
                </Border>

                <!-- Hundeführer -->
                <Border Style="{StaticResource CardStyle}">
                    <StackPanel>
                        <TextBlock Text="Hundeführer (optional)" FontSize="16" FontWeight="SemiBold" 
                                  Foreground="{DynamicResource OnSurface}" Margin="0,0,0,12"/>
                        <ComboBox x:Name="CmbHundefuehrer" 
                                 Background="{DynamicResource SurfaceVariant}"
                                 Foreground="{DynamicResource OnSurface}"
                                 BorderBrush="{DynamicResource Outline}"
                                 DisplayMemberPath="FullName"
                                 SelectedValuePath="Id"/>
                    </StackPanel>
                </Border>

                <!-- Notizen -->
                <Border Style="{StaticResource CardStyle}">
                    <StackPanel>
                        <TextBlock Text="Notizen" FontSize="16" FontWeight="SemiBold" 
                                  Foreground="{DynamicResource OnSurface}" Margin="0,0,0,12"/>
                        <TextBox x:Name="TxtNotizen" Style="{StaticResource InputStyle}" 
                                TextWrapping="Wrap" AcceptsReturn="True" Height="80"
                                VerticalScrollBarVisibility="Auto"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Buttons -->
        <Border Grid.Row="2" Style="{StaticResource CardStyle}">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="✓ Speichern" Click="BtnSave_Click" 
                       Width="120" Height="36" Margin="0,0,8,0"
                       Background="{DynamicResource Primary}" 
                       Foreground="{DynamicResource OnPrimary}"/>
                <Button Content="✗ Abbrechen" Click="BtnCancel_Click" 
                       Width="120" Height="36"
                       Background="{DynamicResource Secondary}" 
                       Foreground="{DynamicResource OnSurface}"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
